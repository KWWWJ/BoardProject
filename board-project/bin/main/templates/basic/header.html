<!DOCTYPE html>
<html lang="ko" mxlns:th="http://www.thymeleaf.org">

<head th:fragment="headerFragmentHead">
    <link rel="stylesheet" href="/styles/board/index.css">
</head>

<body>
    <div th:fragment="headerFragment" id="header">
        <h1 class="title" th:text="${title}"></h1>
        <button onclick="location.href='/'" class="btn btn-outline-secondary home-btn">Home</button>
        <button onclick="location.href='/regist'" class="btn btn-outline-secondary regist-btn">회원 가입</button>
        <button id="login-btn" onclick="location.href='/login'" class="btn btn-outline-success login-btn">로그인</button>
    </div>
    <div id="isLogin" th:text="${isLogin}"></div>
    <!-- Modal -->
    <div class="modal fade" id="login-fail" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">로그인 실패</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    아이디 혹은 비밀번호가 틀렸습니다.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const loginFail = new bootstrap.Modal(document.getElementById('login-fail'))
        const isLogin = document.getElementById("isLogin").innerHTML;

        console.log("idLogin : " + isLogin);
        function isLoginOn() {
            if (isLogin == 0) {
                loginFail.show();
            }
        }

        isLoginOn();

    </script>
</body>

</html>